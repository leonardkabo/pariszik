<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ParisZik - Biblioth√®que</title>
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-storage.js"></script>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <header>
        <div class="container header-container">
            <div class="logo">Paris<span>Zik</span></div>
            
            <!-- Menu hamburger pour mobile -->
            <button class="hamburger" id="hamburgerBtn">
                <span></span>
                <span></span>
                <span></span>
            </button>
            
            <nav id="mainNav">
                <ul>
                    <li><a href="index.html">Accueil</a></li>
                    <li><a href="library.html" class="active">Biblioth√®que</a></li>
                    <li><a href="live.html">En Direct</a></li>
                    <li><a href="#">Clips</a></li>
                    <li><a href="#">Artistes</a></li>
                </ul>
            </nav>
            
            <div class="auth-buttons">
                <a href="login.html" class="btn btn-secondary" id="loginBtn">Se connecter</a>
                <a href="signup.html" class="btn btn-primary" id="signupBtn">S'inscrire</a>
                <a href="admin.html" class="btn btn-admin" id="adminBtn" style="display: none;">Admin</a>
                <div class="user-menu" id="userMenu" style="display: none;">
                    <span id="userName">Utilisateur</span>
                    <button class="btn btn-secondary" id="logoutBtn">D√©connexion</button>
                </div>
            </div>
        </div>
    </header>

    <!-- Sidebar pour desktop -->
    <div class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <h3>ParisZik</h3>
        </div>
        <nav class="sidebar-nav">
            <ul>
                <li><a href="index.html">Accueil</a></li>
                <li><a href="library.html" class="active">Biblioth√®que</a></li>
                <li><a href="favorites.html">Favoris</a></li>
                <li><a href="recent.html">Derniers ajouts</a></li>
                <li><a href="playlists.html">Playlists</a></li>
                <li><a href="artists.html">Artistes</a></li>
                <li><a href="categories.html">Cat√©gories</a></li>
                <li><a href="live.html">En Direct</a></li>
            </ul>
        </nav>
        
        <div class="sidebar-footer">
            <div class="user-info">
                <div class="user-avatar" id="sidebarUserAvatar">üë§</div>
                <div class="user-details">
                    <div class="user-name" id="sidebarUserName">Utilisateur</div>
                    <div class="user-role" id="sidebarUserRole">Membre</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Overlay pour mobile -->
    <div class="overlay" id="overlay"></div>

    <main>
        <div class="container">
            <div class="library-header">
                <h1 class="page-title">Biblioth√®que</h1>
                <p class="page-description">D√©couvrez tous les clips audio et vid√©o disponibles sur ParisZik</p>
            </div>
            
            <div class="library-controls">
                <div class="filter-controls">
                    <select id="contentTypeFilter" class="filter-select">
                        <option value="all">Tous les types</option>
                        <option value="audio">Audio</option>
                        <option value="video">Vid√©o</option>
                        <option value="live">En direct</option>
                    </select>
                    
                    <select id="categoryFilter" class="filter-select">
                        <option value="all">Toutes les cat√©gories</option>
                        <option value="pop">Pop</option>
                        <option value="rock">Rock</option>
                        <option value="hiphop">Hip-Hop</option>
                        <option value="electro">√âlectro</option>
                        <option value="jazz">Jazz</option>
                        <option value="classical">Classique</option>
                        <option value="world">World</option>
                    </select>
                </div>
                
                <div class="search-control">
                    <input type="text" id="librarySearch" placeholder="Rechercher dans la biblioth√®que...">
                </div>
            </div>
            
            <div class="library-stats">
                <div class="stat-item">
                    <span class="stat-value" id="totalContents">0</span>
                    <span class="stat-label">Contenus</span>
                </div>
                <div class="stat-item">
                    <span class="stat-value" id="totalAudio">0</span>
                    <span class="stat-label">Audios</span>
                </div>
                <div class="stat-item">
                    <span class="stat-value" id="totalVideo">0</span>
                    <span class="stat-label">Vid√©os</span>
                </div>
                <div class="stat-item">
                    <span class="stat-value" id="totalLive">0</span>
                    <span class="stat-label">En direct</span>
                </div>
            </div>
            
            <div class="content-section">
                <div class="section-header">
                    <h2 class="section-title">Tous les contenus</h2>
                    <div class="sort-controls">
                        <select id="sortOrder" class="sort-select">
                            <option value="newest">Plus r√©cents</option>
                            <option value="oldest">Plus anciens</option>
                            <option value="popular">Plus populaires</option>
                            <option value="alphabetical">Ordre alphab√©tique</option>
                        </select>
                    </div>
                </div>
                
                <div class="content-grid" id="libraryContent">
                    <div class="loading-spinner">
                        <div class="spinner"></div>
                        <p>Chargement de la biblioth√®que...</p>
                    </div>
                </div>
                
                <div class="pagination" id="pagination">
                    <!-- Pagination will be generated here -->
                </div>
            </div>
        </div>
    </main>

    <footer>
        <div class="container">
            <div class="footer-grid">
                <div class="footer-section">
                    <h3>ParisZik</h3>
                    <p>La plateforme de streaming musical qui vous connecte aux artistes du monde entier et aux √©v√©nements en direct.</p>
                    <div class="admin-access">
                        <a href="admin-access.html" class="admin-link">acc√®s admin</a>
                    </div>
                </div>
                <div class="footer-section">
                    <h3>Liens Rapides</h3>
                    <ul class="footer-links">
                        <li><a href="index.html">Accueil</a></li>
                        <li><a href="library.html">Biblioth√®que</a></li>
                        <li><a href="live.html">En Direct</a></li>
                        <li><a href="categories.html">Cat√©gories</a></li>
                        <li><a href="artists.html">Artistes</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h3>L√©gal</h3>
                    <ul class="footer-links">
                        <li><a href="#">Mentions L√©gales</a></li>
                        <li><a href="#">Politique de Confidentialit√©</a></li>
                        <li><a href="#">Conditions d'Utilisation</a></li>
                        <li><a href="#">Cookies</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h3>Contact</h3>
                    <ul class="footer-links">
                        <li><a href="#">Support</a></li>
                        <li><a href="#">Nous √©crire</a></li>
                        <li><a href="#">Carri√®res</a></li>
                        <li><a href="#">Partenariats</a></li>
                    </ul>
                </div>
            </div>
            <div class="copyright">
                &copy; 2023 ParisZik. Tous droits r√©serv√©s.
            </div>
        </div>
    </footer>

    <script src="js/firebase.js"></script>
    <script src="js/content.js"></script>
    <script src="js/main.js"></script>
    <script>
        // Configuration Firebase
        const firebaseConfig = {
            apiKey: "AIzaSyCLziaBhKhyr1Jz8C4mRt5vYMEWmxoUsxQ",
            authDomain: "pariszik-6ced1.firebaseapp.com",
            projectId: "pariszik-6ced1",
            storageBucket: "pariszik-6ced1.firebasestorage.app",
            messagingSenderId: "1065971112198",
            appId: "1:1065971112198:web:d997951efedb2c6bc3a687"
        };
        
        // Initialiser Firebase
        if (!firebase.apps.length) {
            firebase.initializeApp(firebaseConfig);
        }
        
        // √âl√©ments du DOM
        const loginBtn = document.getElementById('loginBtn');
        const signupBtn = document.getElementById('signupBtn');
        const adminBtn = document.getElementById('adminBtn');
        const userMenu = document.getElementById('userMenu');
        const userName = document.getElementById('userName');
        const logoutBtn = document.getElementById('logoutBtn');
        const sidebar = document.getElementById('sidebar');
        const hamburgerBtn = document.getElementById('hamburgerBtn');
        const overlay = document.getElementById('overlay');
        const sidebarUserName = document.getElementById('sidebarUserName');
        const sidebarUserRole = document.getElementById('sidebarUserRole');
        const sidebarUserAvatar = document.getElementById('sidebarUserAvatar');
        const libraryContent = document.getElementById('libraryContent');
        const contentTypeFilter = document.getElementById('contentTypeFilter');
        const categoryFilter = document.getElementById('categoryFilter');
        const librarySearch = document.getElementById('librarySearch');
        const sortOrder = document.getElementById('sortOrder');
        const pagination = document.getElementById('pagination');
        const totalContents = document.getElementById('totalContents');
        const totalAudio = document.getElementById('totalAudio');
        const totalVideo = document.getElementById('totalVideo');
        const totalLive = document.getElementById('totalLive');
        
        // Variables globales
        let currentUser = null;
        let currentPage = 1;
        const itemsPerPage = 12;
        
        // V√©rifier l'√©tat d'authentification
        firebase.auth().onAuthStateChanged((user) => {
            currentUser = user;
            updateUIBasedOnAuth(user);
        });
        
        // Mettre √† jour l'interface utilisateur selon l'√©tat d'authentification
        function updateUIBasedOnAuth(user) {
            if (user) {
                // Utilisateur connect√©
                loginBtn.style.display = 'none';
                signupBtn.style.display = 'none';
                
                // R√©cup√©rer les informations de l'utilisateur depuis Firestore
                const db = firebase.firestore();
                db.collection("users").doc(user.uid).get()
                    .then((doc) => {
                        if (doc.exists) {
                            const userData = doc.data();
                            const userFullName = userData.fullName || user.email.split('@')[0];
                            const userRole = userData.role || 'user';
                            
                            // Mettre √† jour l'interface
                            userName.textContent = userFullName;
                            sidebarUserName.textContent = userFullName;
                            sidebarUserRole.textContent = userRole === 'admin' ? 'Administrateur' : 'Membre';
                            sidebarUserAvatar.textContent = userFullName.substring(0, 1).toUpperCase();
                            
                            // Afficher le menu utilisateur
                            userMenu.style.display = 'flex';
                            userMenu.style.alignItems = 'center';
                            userMenu.style.gap = '10px';
                            
                            // Afficher le bouton admin si l'utilisateur est admin
                            if (userRole === 'admin') {
                                adminBtn.style.display = 'inline-block';
                            } else {
                                adminBtn.style.display = 'none';
                            }
                        } else {
                            // Cr√©er un document utilisateur par d√©faut
                            const defaultUserData = {
                                fullName: user.email.split('@')[0],
                                email: user.email,
                                createdAt: firebase.firestore.FieldValue.serverTimestamp(),
                                role: "user"
                            };
                            
                            db.collection("users").doc(user.uid).set(defaultUserData)
                                .then(() => {
                                    userName.textContent = user.email.split('@')[0];
                                    sidebarUserName.textContent = user.email.split('@')[0];
                                    sidebarUserRole.textContent = 'Membre';
                                    sidebarUserAvatar.textContent = user.email.substring(0, 1).toUpperCase();
                                    
                                    userMenu.style.display = 'flex';
                                    userMenu.style.alignItems = 'center';
                                    userMenu.style.gap = '10px';
                                    adminBtn.style.display = 'none';
                                });
                        }
                    })
                    .catch((error) => {
                        console.error('Erreur lors de la r√©cup√©ration des donn√©es utilisateur:', error);
                        userName.textContent = user.email.split('@')[0];
                        sidebarUserName.textContent = user.email.split('@')[0];
                        sidebarUserRole.textContent = 'Membre';
                        sidebarUserAvatar.textContent = user.email.substring(0, 1).toUpperCase();
                        
                        userMenu.style.display = 'flex';
                        userMenu.style.alignItems = 'center';
                        userMenu.style.gap = '10px';
                        adminBtn.style.display = 'none';
                    });
            } else {
                // Utilisateur non connect√©
                loginBtn.style.display = 'inline-block';
                signupBtn.style.display = 'inline-block';
                adminBtn.style.display = 'none';
                userMenu.style.display = 'none';
                sidebarUserName.textContent = 'Invit√©';
                sidebarUserRole.textContent = 'Visiteur';
                sidebarUserAvatar.textContent = 'üë§';
            }
            
            // Charger les contenus apr√®s avoir mis √† jour l'interface
            loadLibraryContent();
            loadLibraryStats();
        }
        
        // Gestion de la d√©connexion
        if (logoutBtn) {
            logoutBtn.addEventListener('click', () => {
                firebase.auth().signOut()
                    .then(() => {
                        console.log('D√©connexion r√©ussie');
                        localStorage.removeItem('userId');
                        localStorage.removeItem('userName');
                        localStorage.removeItem('userRole');
                        localStorage.removeItem('userPhoto');
                        window.location.reload();
                    })
                    .catch((error) => {
                        console.error('Erreur lors de la d√©connexion:', error);
                        alert('Erreur lors de la d√©connexion: ' + error.message);
                    });
            });
        }
        
        // Gestion du menu hamburger
        if (hamburgerBtn && overlay) {
            hamburgerBtn.addEventListener('click', () => {
                sidebar.classList.toggle('active');
                overlay.classList.toggle('active');
                hamburgerBtn.classList.toggle('active');
                document.body.classList.toggle('no-scroll');
            });
            
            overlay.addEventListener('click', () => {
                sidebar.classList.remove('active');
                overlay.classList.remove('active');
                hamburgerBtn.classList.remove('active');
                document.body.classList.remove('no-scroll');
            });
        }
        
        // Charger le contenu de la biblioth√®que
        async function loadLibraryContent() {
            try {
                const db = firebase.firestore();
                let query = db.collection("contents");
                
                // Appliquer les filtres
                const contentType = contentTypeFilter.value;
                const category = categoryFilter.value;
                const search = librarySearch.value.toLowerCase();
                const sort = sortOrder.value;
                
                if (contentType !== 'all') {
                    query = query.where("contentType", "==", contentType);
                }
                
                if (category !== 'all') {
                    query = query.where("category", "==", category);
                }
                
                // Appliquer le tri
                switch (sort) {
                    case 'oldest':
                        query = query.orderBy("uploadedAt", "asc");
                        break;
                    case 'popular':
                        query = query.orderBy("views", "desc");
                        break;
                    case 'alphabetical':
                        query = query.orderBy("title", "asc");
                        break;
                    default:
                        query = query.orderBy("uploadedAt", "desc");
                }
                
                // Calculer le nombre total de documents pour la pagination
                const snapshot = await query.get();
                const totalItems = snapshot.size;
                const totalPages = Math.ceil(totalItems / itemsPerPage);
                
                // Appliquer la pagination
                const startIndex = (currentPage - 1) * itemsPerPage;
                const paginatedQuery = query.limit(itemsPerPage).offset(startIndex);
                const paginatedSnapshot = await paginatedQuery.get();
                
                // Afficher les r√©sultats
                libraryContent.innerHTML = '';
                
                if (paginatedSnapshot.empty) {
                    libraryContent.innerHTML = '<p class="no-content">Aucun contenu ne correspond √† votre recherche.</p>';
                } else {
                    paginatedSnapshot.forEach((doc) => {
                        addContentCard(doc.id, doc.data(), libraryContent);
                    });
                }
                
                // G√©n√©rer la pagination
                generatePagination(totalPages);
                
            } catch (error) {
                console.error('Erreur lors du chargement de la biblioth√®que:', error);
                libraryContent.innerHTML = '<p class="error">Erreur lors du chargement de la biblioth√®que.</p>';
            }
        }
        
        // Charger les statistiques de la biblioth√®que
        async function loadLibraryStats() {
            try {
                const db = firebase.firestore();
                const snapshot = await db.collection("contents").get();
                
                let audioCount = 0;
                let videoCount = 0;
                let liveCount = 0;
                
                snapshot.forEach((doc) => {
                    const content = doc.data();
                    if (content.contentType === 'audio') audioCount++;
                    if (content.contentType === 'video') videoCount++;
                    if (content.contentType === 'live') liveCount++;
                });
                
                totalContents.textContent = snapshot.size;
                totalAudio.textContent = audioCount;
                totalVideo.textContent = videoCount;
                totalLive.textContent = liveCount;
                
            } catch (error) {
                console.error('Erreur lors du chargement des statistiques:', error);
            }
        }
        
        // G√©n√©rer la pagination
        function generatePagination(totalPages) {
            pagination.innerHTML = '';
            
            if (totalPages <= 1) return;
            
            // Bouton pr√©c√©dent
            if (currentPage > 1) {
                const prevBtn = document.createElement('button');
                prevBtn.className = 'pagination-btn';
                prevBtn.innerHTML = '‚Üê Pr√©c√©dent';
                prevBtn.addEventListener('click', () => {
                    currentPage--;
                    loadLibraryContent();
                });
                pagination.appendChild(prevBtn);
            }
            
            // Num√©ros de page
            for (let i = 1; i <= totalPages; i++) {
                if (i === currentPage) {
                    const currentBtn = document.createElement('button');
                    currentBtn.className = 'pagination-btn active';
                    currentBtn.textContent = i;
                    pagination.appendChild(currentBtn);
                } else {
                    const pageBtn = document.createElement('button');
                    pageBtn.className = 'pagination-btn';
                    pageBtn.textContent = i;
                    pageBtn.addEventListener('click', () => {
                        currentPage = i;
                        loadLibraryContent();
                    });
                    pagination.appendChild(pageBtn);
                }
            }
            
            // Bouton suivant
            if (currentPage < totalPages) {
                const nextBtn = document.createElement('button');
                nextBtn.className = 'pagination-btn';
                nextBtn.innerHTML = 'Suivant ‚Üí';
                nextBtn.addEventListener('click', () => {
                    currentPage++;
                    loadLibraryContent();
                });
                pagination.appendChild(nextBtn);
            }
        }
        
        // Ajouter une carte de contenu
        function addContentCard(id, content, container) {
            const card = document.createElement('div');
            card.className = 'card';
            card.dataset.id = id;
            
            // D√©terminer l'ic√¥ne selon le type de contenu
            let icon = 'üéµ';
            if (content.contentType === 'video') icon = 'üé¨';
            if (content.contentType === 'live') icon = 'üî¥';
            
            // Formater la date
            const date = content.uploadedAt?.toDate ? content.uploadedAt.toDate() : new Date(content.uploadedAt);
            const formattedDate = date ? date.toLocaleDateString('fr-FR') : 'Date inconnue';
            
            // Formater la taille du fichier
            const formattedSize = formatFileSize(content.fileSize);
            
            // URL de la miniature
            const thumbnailUrl = content.thumbnail || `https://via.placeholder.com/300x200/0066ff/ffffff?text=${encodeURIComponent(content.title.substring(0, 2))}`;
            
            card.innerHTML = `
                <div class="card-img-container">
                    <img src="${thumbnailUrl}" alt="${content.title}" class="card-img">
                    ${content.isLive ? '<div class="live-overlay"><div class="live-badge">LIVE</div></div>' : ''}
                </div>
                <div class="card-content">
                    <h3 class="card-title">${icon} ${content.title}</h3>
                    <p class="card-artist">üë§ ${content.artist}</p>
                    <p class="card-meta">üìÅ ${formattedSize} ‚Ä¢ üìÖ ${formattedDate}</p>
                    <div class="card-stats">
                        <span class="stat">üëÅÔ∏è ${content.views || 0}</span>
                        <span class="stat">üëç ${content.likes || 0}</span>
                    </div>
                    <div class="card-actions">
                        <button class="play-btn" data-id="${id}" data-title="${content.title}" data-artist="${content.artist}" title="Lire ce contenu">‚ñ∂</button>
                        ${content.isLive ? '<div class="live-badge-small">LIVE</div>' : ''}
                    </div>
                </div>
            `;
            container.appendChild(card);
        }
        
        // Gestion de la lecture
        document.addEventListener('click', function(e) {
            if (e.target.classList.contains('play-btn') || e.target.closest('.play-btn')) {
                e.preventDefault();
                
                const playBtn = e.target.classList.contains('play-btn') ? e.target : e.target.closest('.play-btn');
                const contentId = playBtn.getAttribute('data-id');
                const title = playBtn.getAttribute('data-title');
                const artist = playBtn.getAttribute('data-artist');
                
                playContent(contentId, title, artist);
            }
        });
        
        // Fonction pour jouer un contenu
        function playContent(contentId, title, artist) {
            // V√©rifier si l'utilisateur est connect√©
            const user = firebase.auth().currentUser;
            if (!user) {
                if (confirm('Vous devez √™tre connect√© pour √©couter ce contenu. Voulez-vous vous connecter ?')) {
                    window.location.href = 'login.html';
                    return;
                }
                return;
            }
            
            // Rediriger vers la page de lecture
            window.location.href = `player.html?id=${contentId}`;
        }
        
        // √âcouter les changements de filtres
        contentTypeFilter.addEventListener('change', () => {
            currentPage = 1;
            loadLibraryContent();
        });
        
        categoryFilter.addEventListener('change', () => {
            currentPage = 1;
            loadLibraryContent();
        });
        
        librarySearch.addEventListener('input', () => {
            currentPage = 1;
            loadLibraryContent();
        });
        
        sortOrder.addEventListener('change', () => {
            currentPage = 1;
            loadLibraryContent();
        });
        
        // Fonction utilitaire pour formater la taille des fichiers
        function formatFileSize(bytes) {
            if (bytes === 0) return '0 Bytes';
            const k = 1024;
            const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB'];
            const i = Math.floor(Math.log(bytes) / Math.log(k));
            return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
        }
    </script>
    
    <style>
        /* Styles sp√©cifiques pour la biblioth√®que */
        .library-header {
            text-align: center;
            margin: 2rem 0;
            padding: 2rem 0;
            border-bottom: 2px solid var(--primary);
        }
        
        .page-title {
            font-size: 2.5rem;
            color: var(--secondary);
            margin-bottom: 1rem;
        }
        
        .page-description {
            font-size: 1.2rem;
            color: var(--gray);
            max-width: 700px;
            margin: 0 auto;
        }
        
        .library-controls {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
            margin: 2rem 0;
            padding: 1rem;
            background: #f8f9fa;
            border-radius: 15px;
            align-items: center;
        }
        
        .filter-controls {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
        }
        
        .filter-select, .sort-select {
            padding: 0.5rem;
            border: 2px solid #dee2e6;
            border-radius: 8px;
            font-size: 1rem;
            background: white;
        }
        
        .filter-select:focus, .sort-select:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(0, 102, 255, 0.1);
        }
        
        .search-control {
            flex: 1;
            min-width: 200px;
        }
        
        .search-control input {
            width: 100%;
            padding: 0.5rem;
            border: 2px solid #dee2e6;
            border-radius: 8px;
            font-size: 1rem;
        }
        
        .search-control input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(0, 102, 255, 0.1);
        }
        
        .library-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 1rem;
            margin: 2rem 0;
            padding: 1rem;
            background: #f8f9fa;
            border-radius: 15px;
        }
        
        .stat-item {
            text-align: center;
            padding: 1rem;
            background: white;
            border-radius: 10px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }
        
        .stat-value {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--primary);
            display: block;
        }
        
        .stat-label {
            font-size: 0.9rem;
            color: var(--gray);
            display: block;
        }
        
        .sort-controls {
            display: flex;
            align-items: center;
            gap: 1rem;
        }
        
        .pagination {
            display: flex;
            justify-content: center;
            gap: 0.5rem;
            margin: 2rem 0;
            flex-wrap: wrap;
        }
        
        .pagination-btn {
            padding: 0.5rem 1rem;
            border: 2px solid #dee2e6;
            border-radius: 8px;
            background: white;
            cursor: pointer;
            font-size: 0.9rem;
            transition: all 0.3s ease;
        }
        
        .pagination-btn:hover {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }
        
        .pagination-btn.active {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }
        
        .card-stats {
            display: flex;
            gap: 1rem;
            margin: 0.5rem 0;
            font-size: 0.85rem;
            color: var(--gray);
        }
        
        .stat {
            display: flex;
            align-items: center;
            gap: 0.3rem;
        }
        
        /* Responsive adjustments */
        @media (max-width: 768px) {
            .library-controls {
                flex-direction: column;
                align-items: stretch;
            }
            
            .search-control {
                min-width: auto;
            }
            
            .page-title {
                font-size: 2rem;
            }
        }
    </style>
</body>
</html>